# 客户端层

### Kubectl plugin

用于扩展 `k8s` 命令行工具 `kubectl` 功能的附加组件，通过插件用于可以添加自定义命令

`kubectl` 是一个独立的可执行文件，名字以 `kubectl-` 开头

##### 限制

插件无法覆盖 `kubectl` 自有的命令，他总是优先执行自己有的命令
[插件demo](./kubectl-foo)

##### 插件案例

```bash
chmod +x $HOME/bin/kubectl-foo
kubectl foo

$ kubectl foo version
1.0.0
```

##### client-go credential plugins

`client-go` 凭证依据，允许运用使用外部的身份验证机制来验证 `k8s` 集群
用户可以利用插件动态获取令牌或者其他凭证，而不是硬编码在配置文件中

[凭证demo](config/credential/kubeconfig-credential.yaml)
- `exec`
  - 指定获取凭证时要运行的命令
- `your-credential-plugin`
  - 被调用的可执行文件名称
- `env`
  - 传递环境变量给插件
- `args`
  - 传递必要的参数给插件