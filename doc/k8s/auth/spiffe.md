# SPIFFE

为动态和异构环境的工作负载提供安全的身份识别机制
通过简单的 `API` 定义短期加密身份文件 `SVID`，使用该身份文件进行认证

### 工作负载

`Workload` 指为特定目的而部署的单一软件系统，可以认为是一个部署的进程
`SPIFFE` 假设工作负载之间具有足够的隔离性，防止窃取工作负载凭证

##### SPIFFE ID

工作负载的唯一标识，可以分配给工作负载运行的中间系统

##### 信任域

代表系统的信任根，每个信任域独立运行 `SPIFFE` 基础设施，域内的所有工作负载都会获得基于该域根密钥的身份文件

不同区域和不同安全级别的环境的工作负载通常划分到不同的信任域中

##### SPIFFE 可验证身份文件 SVID

工作负载向其他系统证明身份的文件，文件包含 `SPIFFE ID` 并将其编码在可加密验证的文件中

- `X509`
- `JWT`
    - 容易受到重放攻击

##### 工作负载 API

通过工作负载 `API` 为不同格式的身份文件提供服务，便于工作负载自动获取和轮换身份凭证

- 调用时无需配置认证令牌
- 所有的证书和私钥但是短期的，需要定时轮换

信任包是一组 `CA` 根证书集合，工作负载使用它来验证其他工作负载的身份，工作负载通过调用 `API` 获取最新的包

### 使用场景

- 服务网格
    - `Istio`
    - `Linkerd`
- 微服务
    - 提供零信任安全模型
- 容器化
    - 容器编排平台实现细颗粒的身份管理
- 混合云
    - 跨云平台和本地环境统一身份认证
