# PDB

中断预算，保障 `k8s` 关键应用高可用与安全运维的核心机制，提升集群的稳定性

### 中断类型

##### 自愿中断

由人为操作或自动化流程主动触发 `Pod` 终止

- 应用程序维护操作
    - 删除或更新工作负载器，修改 `Pod`
- 集群运维操作
    - 集群升级，自动缩容，资源调度优化时迁移 `Pod`

##### 非自愿中断

由于不可预见的硬件或系统故障导致 `Pod` 终止

- 硬件故障
- 基础设施和系统
- 网络分区问题
- 资源耗尽

### 中断预算机制

限制同时发生自愿中断的 `Pod` 数量

- 最小可用副本
- 最大不可用副本
- 标签选择器，精确的指定受保护的 `Pod` 范围

##### 执行流程

- 创建 `PDB`
- 中断请求
    - 管理员或者自动化工具请求驱逐 `Pod`
- 预算检查
    - 验证驱逐操作是否违反 `PDB`
- 执行或者拒绝操作


